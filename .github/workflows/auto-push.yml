name: Codex Auto Commit

on:
  push:
    branches:
      - main
  workflow_dispatch:  # Elle tetiklemek iÃ§in

jobs:
  auto-commit:
    runs-on: ubuntu-latest

    steps:
    - name: Reposu klonla
      uses: actions/checkout@v3

    - name: Git ayarlarÄ±
      run: |
        git config --global user.name "codex-bot"
        git config --global user.email "codex-bot@example.com"

    - name: Dummy dÃ¼zenleme (Ã¶rnek)
      run: |
        echo "ğŸ”„ Otomatik gÃ¼ncellendi: $(date)" >> codex_log.txt

    - name: Reposu yazÄ±labilir yap (Token ile)
      run: |
        git remote set-url origin https://x-access-token:${{ secrets.GH_TOKEN }}@github.com/${{ github.repository }}

    - name: Commit ve Push
      run: |
        git add .
        git commit -m "ğŸ¤– Codex dÃ¼zenlemeleri iÅŸlendi" || echo "HiÃ§bir deÄŸiÅŸiklik yok"
        git push origin main
